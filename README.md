# üîê Auth System (FastAPI + PostgreSQL)

–ü—Ä–æ–µ–∫—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ —Å –∫–∞—Å—Ç–æ–º–Ω–æ–π —Å–∏—Å—Ç–µ–º–æ–π –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞, —Ä–æ–ª–µ–≤–æ–π –º–æ–¥–µ–ª—å—é, JWT-—Ç–æ–∫–µ–Ω–∞–º–∏ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏.

---

## üöÄ –°—Ç–µ–∫

- Python 3.12
- FastAPI
- SQLAlchemy (sync)
- PostgreSQL
- Alembic
- Uvicorn
- python-jose (JWT)
- Pydantic

# üöÄ –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

### üë§ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
- –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è (`/register`)
- –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è (`/login`)
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è (`PUT /me`)
- –ú—è–≥–∫–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ –∞–∫–∫–∞—É–Ω—Ç–∞ (`DELETE /me`)
- Logout ‚Äî —á–µ—Ä–µ–∑ —É–¥–∞–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞ –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ

### üîê JWT
- –í—ã–¥–∞—á–∞ —Ç–æ–∫–µ–Ω–∞ –ø—Ä–∏ –ª–æ–≥–∏–Ω–µ
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –ø–æ `Bearer`-—Ç–æ–∫–µ–Ω—É
- –û–±—Ä–∞–±–æ—Ç–∫–∞ 401 –∏ 403 –æ—à–∏–±–æ–∫

### üéØ –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è (RBAC)
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∏–º–µ–µ—Ç —Ä–æ–ª–∏ –∏ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è
- –ú–æ–∂–Ω–æ –Ω–∞–∑–Ω–∞—á–∞—Ç—å –ø—Ä–∞–≤–∞ –Ω–∞ –¥–æ—Å—Ç—É–ø –∫ —Ä–µ—Å—É—Ä—Å–∞–º
- –†–µ—Å—É—Ä—Å—ã ‚Äî –º–æ–∫–æ–≤—ã–µ (`/resources/...`) —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π –ø—Ä–∞–≤
- 403 Forbidden –ø—Ä–∏ –Ω–µ–¥–æ—Å—Ç–∞—Ç–∫–µ –ø—Ä–∞–≤

---

## üíæ –ú–æ–¥–µ–ª–∏ –≤ –±–∞–∑–µ

### `users`
| –ü–æ–ª–µ         | –¢–∏–ø        | –û–ø–∏—Å–∞–Ω–∏–µ                      |
|--------------|------------|-------------------------------|
| id           | UUID       | –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä     |
| email        | str        | Email (—É–Ω–∏–∫–∞–ª—å–Ω—ã–π)           |
| password     | str        | –•—ç—à –ø–∞—Ä–æ–ª—è                   |
| first_name   | str        | –ò–º—è                          |
| last_name    | str        | –§–∞–º–∏–ª–∏—è                      |
| is_active    | bool       | –ê–∫—Ç–∏–≤–µ–Ω –∏–ª–∏ soft-deleted     |

### `roles`, `permissions`, `user_roles`, `role_permissions`
(–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ: –µ—Å–ª–∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ RBAC)
---

## ‚öôÔ∏è –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

```bash
# –ö–ª–æ–Ω–∏—Ä—É–µ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
git clone https://github.com/AntonIlinskiy/auth-system.git
cd auth-system

# –°–æ–∑–¥–∞—ë–º –∏ –∞–∫—Ç–∏–≤–∏—Ä—É–µ–º –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
python -m venv .venv
.venv\Scripts\activate  # Windows

# –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
pip install -r requirements.txt

# –°–æ–∑–¥–∞—ë–º .env
cp .env.example .env

# –ü—Ä–∏–º–µ–Ω—è–µ–º –º–∏–≥—Ä–∞—Ü–∏–∏
alembic upgrade head

# –ó–∞–ø—É—Å–∫–∞–µ–º —Å–µ—Ä–≤–µ—Ä
python -m app.main
```

---

## üîí API endpoints

| –ú–µ—Ç–æ–¥ | –ü—É—Ç—å              | –û–ø–∏—Å–∞–Ω–∏–µ                      | –î–æ—Å—Ç—É–ø       |
|-------|-------------------|-------------------------------|--------------|
| POST  | `/register`       | –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è      | –ü—É–±–ª–∏—á–Ω—ã–π    |
| POST  | `/login`          | –í—Ö–æ–¥, JWT                     | –ü—É–±–ª–∏—á–Ω—ã–π    |
| GET   | `/me`             | –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è | –ê–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω |
| PATCH | `/users/{id}`     | –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è       | –í–ª–∞–¥–µ–ª–µ—Ü     |
| DELETE| `/users/{id}`     | –£–¥–∞–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è         | –í–ª–∞–¥–µ–ª–µ—Ü     |
| GET   | `/admin/users`    | –ü–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π  | –ê–¥–º–∏–Ω        |

---

## ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ

- [x] –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- [x] –•—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª—è
- [x] –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ PostgreSQL
- [x] Alembic –º–∏–≥—Ä–∞—Ü–∏–∏
- [x] –†–∞–±–æ—Ç–∞—é—â–∞—è –º–æ–¥–µ–ª—å User
- [x] –ó–∞–ø—É—Å–∫ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ


## üßë‚Äçüíª –ê–≤—Ç–æ—Ä

[@AntonIlinskiy](https://github.com/AntonIlinskiy)
